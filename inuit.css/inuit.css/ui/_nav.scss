/**
 * $finest nav
 */

#navigation {
	margin-top: $half-spacing-unit;
  background: #fff;
}

#navigation.is_stuck {
	width: 100% !important;
	left: 0;
	z-index: 800;
	margin-top: 0;
	// background: $darkgrey;
	//
	// a {
	// 	color: #fff;
	// }
}

#navigation.primary.primary .site-title--srcoll {
	font-family: $brand-face;
	@include font-size(42px);
	width: 80px;
	position: absolute;
  bottom: -12px;
	left: 0;
	right: 0;
	margin: auto;
	border-bottom: 0;
	text-align: center;
	transition: all 1s ease-out;
	&:hover {
		border-bottom: 0;
	}
  @media only screen and (min-width: 1200px) {
    display: none;
  }
}

.site-title--srcoll {
	opacity: 0;
	visibility: hidden;
}

.site-title--srcoll.is--shown {
	opacity: 1;
	visibility: visible;
}

#navigation.is_stuck.g {
	padding-left: 0;
}

#navigation.is_stuck #menu-toggle__target {
	top: 8px;
}

#navigation.is_stuck #menu-toggle__target.toggle-position {
  right: 260px;
}

#navigation.is_stuck .toggle-position-search {
	right: 300px;
}

.primary #menu-main-navigation .menu-item-object-category.current-menu-item .sub-menu a {
	background: lighten($darkgrey, 10%);
 	&:hover {
 		border-bottom: 0;
 	}
}

.primary .current-menu-item a:hover {
	border-bottom: 0;
}

.primary {
	.site-naviagtion {
		@extend .cf;
		@include media-query(lap-and-up) {
    		padding:0;
    	}
    	@include media-query(palm) {
			// position:  absolute;
			top: $half-spacing-unit/2;
			width: 100%;
			margin-left: -$base-spacing-unit;
	    	a {
	    		display: block;
		    	padding: $half-spacing-unit;
		    	@include font-size($milli-size);
		    	line-height: 1.4;
	    	}
	    	#menu-secondary-navigation {
			    float: none;
				}
	   }
	}



	#menu-main-navigation {
		width: 60%;
		float: left;
		margin-bottom: 0;
		position: relative;
		@media only screen and (max-width: 1200px) {
	    border: 0 !important;
	    clip: rect(0 0 0 0) !important;
	    height: 1px !important;
	    margin: -1px !important;
	    overflow: hidden !important;
	    padding: 0 !important;
	    position: absolute !important;
	    width: 1px !important;
		}
			.sub-menu {
				list-style-type: none;
				max-height:0;
				overflow:hidden;
				opacity: 0;
				width: 167.8%; // weird magic number
				float: left;
				margin-left: 0;
				z-index: 1000;
				background: $darkgrey;
				position: absolute;
				left: 0;
				 -webkit-transition: all .6s;
					-moz-transition: all .6s;
	                 -ms-transition: all .6s;
	                  -o-transition: all .6s;
	                     transition: all .6s;

	       &:focus  {
					  max-height: 999px;
					  display: block;
					  -webkit-box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
					     -moz-box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
	                  box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
					  opacity: 1;
					}
		      @include media-query(palm) {
						width: 100%;
					}
				li {
					float: left;
				}

				a {
					color: #fff;
					background: $darkgrey !important;
					border-bottom: 0;
					&:hover,
					&:focus {
						background: lighten($darkgrey, 10%) !important;
						border-bottom: 0;
					}
				}
				.current-menu-item a {
					border-bottom: 0 !important;
					&:hover {
						background: lighten($darkgrey, 10%) !important;
						color: #fff;
						border-bottom: 0 !important;
					}
				}

				a {
					display: block;
				}

			}
			.is-shown {
				  max-height: 999px;
				  display: block;
				  -webkit-box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
				     -moz-box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
                  box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
				  opacity: 1;
			}
	   .current-menu-item {
				.sub-menu {
					a {
					background: $darkgrey;
					color: #fff;
					border-bottom: 0;
						&:hover {
							background: lighten($darkgrey, 10%);
							border-bottom: 0;
						}
					}
				}
			}
	  .current-menu-item {
	  	a {
				border-bottom: 3px solid $brand-color;
				&:hover {
					border-bottom: 3px solid $brand-color;
				}
			}

			@include media-query(palm) {
				width: 100%;
				background: #eee;
			}
		}
	}

	a {
		font-family: $body-face;
		padding: $half-spacing-unit;
		color: $black;
		@include font-size($body-size);
		border-bottom: 3px solid #fff;
		&:hover {
			border-bottom: 3px solid $brand-color;
			text-decoration: none;
		}
		@media screen and (max-width: 1200px)  {
			padding: $half-spacing-unit $half-spacing-unit/1.5;
		}
	}

	// CTA
	.btn-menu {
		a {
			padding: $half-spacing-unit;
			margin: 5px;
			border: 1px solid #886808;
			color: #886808;
			text-transform: uppercase;
			@include vendor(border-radius, 2px);
				&:hover {
					color: #fff;
					background: #886808;
				}
				@include media-query(palm) {
					border: 0;
				}
			}
	}

	.toggle__target a[rel] {
		&:after {
			font-family: 'finest-icons';
			content: "\25bc";
			padding-left: $half-spacing-unit;
			@media screen and (max-width: 1200px)  {
				padding-left: 20px;
			}
		}
		&.is-pressed {
			background: #eee;
			color: $brand-color;
		}
		&.is-pressed:after {
			content: "\25b4";
		}
	}

	#menu-toggle__target {
		font-family: 'finest-icons';
		position: absolute;
		display: block;
		top: 113px;
		right: 0px;
		margin: 0 0 $half-spacing-unit/2 0;
		padding: $half-spacing-unit/2 $half-spacing-unit $half-spacing-unit $half-spacing-unit;
		@extend .btn;
		font-size: 32px;
		@media only screen and (max-width: 859px) {
			top: 12px;
			right: 0px;
		}
		span {
			position: relative;
			top: -3px;
			padding-left: $half-spacing-unit/2;
			font-size: 20px;
			@media only screen and (max-width: 859px) {
				display: none;
			}
		}
		&:before {
			content: "\2630";
		}
		&.is-pressed:before {
			content: "\2612";
		}
		@media only screen and (min-width: 1200px) {
	    border: 0 !important;
	    clip: rect(0 0 0 0) !important;
	    height: 1px !important;
	    margin: -1px !important;
	    overflow: hidden !important;
	    padding: 0 !important;
	    position: absolute !important;
	    width: 1px !important;
		}
	}
}

.nav--mobile {
	@include media-query(lap-and-up) {
	    > li{
	        &,
	        > a{
	            display:inline-block;
	           *display:inline;
	            zoom:1;
	        }
	    }
	}
}

.secondary {
	#menu-secondary-navigation {
		float: right;
		margin-top: 10px;
		@include media-query(palm) {
			margin-top: 0;
		}
	}
	ul {
		margin-bottom: 0;
	}
	a {
		padding: $half-spacing-unit;
		color: #9e9e9e;
		&:hover {
			color: $brand-color;
			text-decoration: none;
		}
	}
	.btn-menu {
		a {
			padding: 8px 11px;
			border: 1px solid #886808;
			color: #886808;
			text-transform: uppercase;
			font-size: 13px;
			@include media-query(mob) {
				font-size: 11px;
				padding: 0;
			}
			@include vendor(border-radius, 2px);
				&:hover {
					color: #fff;
					background: #886808;
				}
				@include media-query(palm) {
					border: 0;
				}
			}
	}
	.current-menu-item a {
		color: $brand-color;
		}
	.icon-twitter-nav {
		a {
			font-family: sans-serif;
				&:before {
			  font-family: 'finest-icons';
				content:"\2604";
				padding-right: $half-spacing-unit/2;
				}
		}
	}
	.icon-twitter-nav a:hover {
		color: #00aced;
	}
	@include media-query(palm) {
		position:  absolute;
		top: 0px;
		width: 101%;
		margin-left: -$base-spacing-unit;
		ul {
			display: table;
			width: 100%;
			background:#eee;
		}
		li {
			display: table-cell;
		}
    	a {
    		display: block;
	    	padding: $half-spacing-unit;
	    	@include font-size($milli-size);
    	}
    	#menu-secondary-navigation {
		    float: none;
			}
    }
}

.sidr-class-main-search-control {
	display: none;
}

.nav--banner {
	@include media-query(palm) {
    	text-align:center;
    	float: none;
    }
}

#sub-navigation {
	z-index: 9;
	clear: both;
	background: #eee;
}

.sidr {
	display:none;
	position:absolute;
	position:fixed;
	top:0;
	height:100%;
	z-index:999999;
	width:260px;
	overflow-x:none;
	overflow-y:auto;
	background: $darkgrey;
	color:#fff;
	}

.sidr-class-accessibility,
#sidr-id-menu-toggle__target,
.sidr-class-screen-reader-text {
	@extend .visuallyhidden;
}

.sidr.right{
	left:auto;
	right:-260px
	}

.sidr.left{
	left:-260px;
	right:auto
	}

.sidr ul{
	display:block;
	margin:0 0 15px;
	padding:0;
	}

.sidr ul li a,
.sidr ul li span {
	display:block;
	margin:0;
	padding: $base-spacing-unit;
	text-decoration:none;
	color:#fff;
	border-bottom:1px solid #1a1a1a;
	}

.sidr ul li ul{
	border-bottom:none;
	margin:0;
	}

.sidr ul li ul li a {
	border-bottom:none;
	margin:0;
	}

.sidr ul li ul li:last-child{
	border-bottom:none;
	}

.sidr ul li a:hover {
	// background: lighten($darkgrey, 5%);
}

.sidr ul li ul li a,
.sidr ul li ul li span{
	color:rgba(255,255,255,0.8);
	padding-left: 40px;
	background: darken($darkgrey, 5%);
}

.sidr-class-mob-search {
	padding: $half-spacing-unit/2;
}

.sidr-class-main-search {
	border-bottom:1px solid #1a1a1a;
}

#sidr-id-s {
	width: 100%;
	padding: $half-spacing-unit;
	margin: 0 0 $half-spacing-unit 0;
	border: 0;
}

.sidr-class-icon-search {
	width: 100%;
	@extend .btn--finest;
	padding: $half-spacing-unit;
	border: 1px solid $brand-color;
}

// Animate sub menu side

.sidr-class-sub-menu {
	max-height:0;
	overflow:hidden;
 	-webkit-transition: all .6s;
	   -moz-transition: all .6s;
	    -ms-transition: all .6s;
	     -o-transition: all .6s;
	        transition: all .6s;
}

.sidr-class-sub-menu.is-shown {
	max-height: 999px;
}

.sidr .sidr-class-menu-item a {
	padding: $half-spacing-unit $half-spacing-unit $half-spacing-unit $base-spacing-unit*2.35;
}

.sidr .sidr-class-menu-item a[rel] {
	padding-left: $base-spacing-unit;
}

.sidr-class-toggle__target a[rel] {
		&:before {
			//@include font-size($milli-size);
			content: "\2b";
			margin-right: $half-spacing-unit;
		}
		&.is-pressed {

		}
		&.is-pressed:before {
			content: "\2d";
		}
	}




.primary #menu-main-navigation .sub-menu.focus {
	max-height: 999px;
  display: block;
  -webkit-box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
     -moz-box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
          box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
  opacity: 1;
}

.directory-nav a {
  border-bottom: 0;
  text-decoration: underline;
	&:hover {
		text-decoration: none;
	}
}
